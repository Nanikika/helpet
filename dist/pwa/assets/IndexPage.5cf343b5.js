import{h as d,f as L,aa as be,ab as xe,r as k,c as g,w as I,ac as _e,ad as Ce,l as ae,o as oe,q as Pe,j as F,p as qe,n as ve,ae as ie,g as H,af as Se,y as we,t as z,m as Ie,z as ke,A as R,B as K,E as le,u as X,G,ag as $e,ah as Be,ai as Ne,v as Te,aj as Ae,H as re,J as Ee,N as Ve,ak as Me,a1 as J,R as fe,S as D,U as Y,V,d as j,a2 as me,a3 as ge,F as pe,a4 as ne,Z,Y as De,a5 as Le}from"./index.b55d055d.js";import{f as W,a as ee,i as te,d as Fe,b as se,s as ue,c as Qe}from"./selection.fb7177c7.js";import{Q as ze}from"./QPage.9cb9805f.js";import{l as Ue,r as je,a as He,b as Oe,U as Re,W as We,Q as Ye,V as Ke,w as Xe,d as Ge}from"./firebase.372dbda1.js";import{u as he,a as ye}from"./use-dark.3dad7726.js";const Je=[d("circle",{cx:"15",cy:"15",r:"15"},[d("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),d("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})]),d("circle",{cx:"60",cy:"15",r:"9","fill-opacity":".3"},[d("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),d("animate",{attributeName:"fill-opacity",from:".5",to:".5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})]),d("circle",{cx:"105",cy:"15",r:"15"},[d("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),d("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})])];var Ze=L({name:"QSpinnerDots",props:be,setup(e){const{cSize:a,classes:r}=xe(e);return()=>d("svg",{class:r.value,fill:"currentColor",width:a.value,height:a.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg"},Je)}});const{passive:E}=qe;var et=L({name:"QInfiniteScroll",props:{offset:{type:Number,default:500},debounce:{type:[String,Number],default:100},scrollTarget:{default:void 0},initialIndex:Number,disable:Boolean,reverse:Boolean},emits:["load"],setup(e,{slots:a,emit:r}){const u=k(!1),o=k(!0),t=k(null);let i=e.initialIndex||0,n,s;const b=g(()=>"q-infinite-scroll__loading"+(u.value===!0?"":" invisible"));function c(){if(e.disable===!0||u.value===!0||o.value===!1)return;const v=W(n),x=ee(n),w=ie(n);e.reverse===!1?Math.round(x+w+e.offset)>=Math.round(v)&&p():Math.round(x)<=e.offset&&p()}function p(){if(e.disable===!0||u.value===!0||o.value===!1)return;i++,u.value=!0;const v=W(n);r("load",i,x=>{o.value===!0&&(u.value=!1,ve(()=>{if(e.reverse===!0){const w=W(n),S=ee(n),N=w-v;te(n,S+N)}x===!0?_():t.value&&t.value.closest("body")&&s()}))})}function m(){i=0}function y(){o.value===!1&&(o.value=!0,n.addEventListener("scroll",s,E)),c()}function _(){o.value===!0&&(o.value=!1,u.value=!1,n.removeEventListener("scroll",s,E),s!==void 0&&s.cancel!==void 0&&s.cancel())}function $(){if(n&&o.value===!0&&n.removeEventListener("scroll",s,E),n=Fe(t.value,e.scrollTarget),o.value===!0){if(n.addEventListener("scroll",s,E),e.reverse===!0){const v=W(n),x=ie(n);te(n,v-x)}c()}}function P(v){i=v}const M=H();Object.assign(M.proxy,{poll:()=>{s!==void 0&&s()},trigger:p,stop:_,reset:m,resume:y,setIndex:P});function B(v){v=parseInt(v,10);const x=s;s=v<=0?c:Se(c,isNaN(v)===!0?100:v),n&&o.value===!0&&(x!==void 0&&n.removeEventListener("scroll",x,E),n.addEventListener("scroll",s,E))}I(()=>e.disable,v=>{v===!0?_():y()}),I(()=>e.reverse,v=>{u.value===!1&&o.value===!0&&c()}),I(()=>e.scrollTarget,$),I(()=>e.debounce,B);let q=!1;return _e(()=>{q!==!1&&n&&te(n,q)}),Ce(()=>{q=n?ee(n):!1}),ae(()=>{o.value===!0&&n.removeEventListener("scroll",s,E)}),oe(()=>{B(e.debounce),$()}),()=>{const v=Pe(a.default,[]);return e.disable!==!0&&o.value===!0&&v[e.reverse===!1?"push":"unshift"](d("div",{class:b.value},F(a.loading))),d("div",{class:"q-infinite-scroll",ref:t},v)}}});function tt(e){const a=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((r,u)=>{const o=parseFloat(r);o&&(a[u]=o)}),a}var nt=we({name:"touch-swipe",beforeMount(e,{value:a,arg:r,modifiers:u}){if(u.mouse!==!0&&z.has.touch!==!0)return;const o=u.mouseCapture===!0?"Capture":"",t={handler:a,sensitivity:tt(r),direction:se(u),noop:Ie,mouseStart(i){ue(i,t)&&ke(i)&&(R(t,"temp",[[document,"mousemove","move",`notPassive${o}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(i,!0))},touchStart(i){if(ue(i,t)){const n=i.target;R(t,"temp",[[n,"touchmove","move","notPassiveCapture"],[n,"touchcancel","end","notPassiveCapture"],[n,"touchend","end","notPassiveCapture"]]),t.start(i)}},start(i,n){z.is.firefox===!0&&K(e,!0);const s=le(i);t.event={x:s.left,y:s.top,time:Date.now(),mouse:n===!0,dir:!1}},move(i){if(t.event===void 0)return;if(t.event.dir!==!1){X(i);return}const n=Date.now()-t.event.time;if(n===0)return;const s=le(i),b=s.left-t.event.x,c=Math.abs(b),p=s.top-t.event.y,m=Math.abs(p);if(t.event.mouse!==!0){if(c<t.sensitivity[1]&&m<t.sensitivity[1]){t.end(i);return}}else if(c<t.sensitivity[2]&&m<t.sensitivity[2])return;const y=c/n,_=m/n;t.direction.vertical===!0&&c<m&&c<100&&_>t.sensitivity[0]&&(t.event.dir=p<0?"up":"down"),t.direction.horizontal===!0&&c>m&&m<100&&y>t.sensitivity[0]&&(t.event.dir=b<0?"left":"right"),t.direction.up===!0&&c<m&&p<0&&c<100&&_>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&c<m&&p>0&&c<100&&_>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&c>m&&b<0&&m<100&&y>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&c>m&&b>0&&m<100&&y>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(X(i),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Qe(),t.styleCleanup=$=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const P=()=>{document.body.classList.remove("no-pointer-events--children")};$===!0?setTimeout(P,50):P()}),t.handler({evt:i,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:n,distance:{x:c,y:m}})):t.end(i)},end(i){t.event!==void 0&&(G(t,"temp"),z.is.firefox===!0&&K(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),i!==void 0&&t.event.dir!==!1&&X(i),t.event=void 0)}};e.__qtouchswipe=t,u.mouse===!0&&R(t,"main",[[e,"mousedown","mouseStart",`passive${o}`]]),z.has.touch===!0&&R(t,"main",[[e,"touchstart","touchStart",`passive${u.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,a){const r=e.__qtouchswipe;r!==void 0&&(a.oldValue!==a.value&&(typeof a.value!="function"&&r.end(),r.handler=a.value),r.direction=se(a.modifiers))},beforeUnmount(e){const a=e.__qtouchswipe;a!==void 0&&(G(a,"main"),G(a,"temp"),z.is.firefox===!0&&K(e,!1),a.styleCleanup!==void 0&&a.styleCleanup(),delete e.__qtouchswipe)}});function at(){const e=new Map;return{getCache:function(a,r){return e[a]===void 0?e[a]=r:e[a]},getCacheWithFn:function(a,r){return e[a]===void 0?e[a]=r():e[a]}}}const ot={name:{required:!0},disable:Boolean},ce={setup(e,{slots:a}){return()=>d("div",{class:"q-panel scroll",role:"tabpanel"},F(a.default))}},it={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},lt=["update:modelValue","before-transition","transition"];function rt(){const{props:e,emit:a,proxy:r}=H(),{getCacheWithFn:u}=at();let o,t;const i=k(null),n=k(null);function s(l){const f=e.vertical===!0?"up":"left";S((r.$q.lang.rtl===!0?-1:1)*(l.direction===f?1:-1))}const b=g(()=>[[nt,s,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),c=g(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),p=g(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),m=g(()=>`--q-transition-duration: ${e.transitionDuration}ms`),y=g(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),_=g(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),$=g(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);I(()=>e.modelValue,(l,f)=>{const C=q(l)===!0?v(l):-1;t!==!0&&w(C===-1?0:C<v(f)?-1:1),i.value!==C&&(i.value=C,a("before-transition",l,f),ve(()=>{a("transition",l,f)}))});function P(){S(1)}function M(){S(-1)}Object.assign(r,{next:P,previous:M,goTo:B});function B(l){a("update:modelValue",l)}function q(l){return l!=null&&l!==""}function v(l){return o.findIndex(f=>f.props.name===l&&f.props.disable!==""&&f.props.disable!==!0)}function x(){return o.filter(l=>l.props.disable!==""&&l.props.disable!==!0)}function w(l){const f=l!==0&&e.animated===!0&&i.value!==-1?"q-transition--"+(l===-1?c.value:p.value):null;n.value!==f&&(n.value=f)}function S(l,f=i.value){let C=f+l;for(;C>-1&&C<o.length;){const A=o[C];if(A!==void 0&&A.props.disable!==""&&A.props.disable!==!0){w(l),t=!0,a("update:modelValue",A.props.name),setTimeout(()=>{t=!1});return}C+=l}e.infinite===!0&&o.length>0&&f!==-1&&f!==o.length&&S(l,l===-1?o.length:-1)}function N(){const l=v(e.modelValue);return i.value!==l&&(i.value=l),!0}function O(){const l=q(e.modelValue)===!0&&N()&&o[i.value];return e.keepAlive===!0?[d(Be,_.value,[d($.value===!0?u(y.value,()=>({...ce,name:y.value})):ce,{key:y.value,style:m.value},()=>l)])]:[d("div",{class:"q-panel scroll",style:m.value,key:y.value,role:"tabpanel"},[l])]}function h(){if(o.length!==0)return e.animated===!0?[d($e,{name:n.value},O)]:O()}function T(l){return o=Ne(F(l.default,[])).filter(f=>f.props!==null&&f.props.slot===void 0&&q(f.props.name)===!0),o.length}function Q(){return o}return{panelIndex:i,panelDirectives:b,updatePanelsList:T,updatePanelIndex:N,getPanelContent:h,getEnabledPanels:x,getPanels:Q,isValidPanelName:q,keepAliveProps:_,needsUniqueKeepAliveWrapper:$,goToPanelByOffset:S,goToPanel:B,nextPanel:P,previousPanel:M}}var st=L({name:"QCarouselSlide",props:{...ot,imgSrc:String},setup(e,{slots:a}){const r=g(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>d("div",{class:"q-carousel__slide",style:r.value},F(a.default))}});let U=0;const ut={fullscreen:Boolean,noRouteFullscreenExit:Boolean},ct=["update:fullscreen","fullscreen"];function dt(){const e=H(),{props:a,emit:r,proxy:u}=e;let o,t,i;const n=k(!1);Te(e)===!0&&I(()=>u.$route.fullPath,()=>{a.noRouteFullscreenExit!==!0&&c()}),I(()=>a.fullscreen,p=>{n.value!==p&&s()}),I(n,p=>{r("update:fullscreen",p),r("fullscreen",p)});function s(){n.value===!0?c():b()}function b(){n.value!==!0&&(n.value=!0,i=u.$el.parentNode,i.replaceChild(t,u.$el),document.body.appendChild(u.$el),U++,U===1&&document.body.classList.add("q-body--fullscreen-mixin"),o={handler:c},re.add(o))}function c(){n.value===!0&&(o!==void 0&&(re.remove(o),o=void 0),i.replaceChild(u.$el,t),n.value=!1,U=Math.max(0,U-1),U===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),u.$el.scrollIntoView!==void 0&&setTimeout(()=>{u.$el.scrollIntoView()})))}return Ae(()=>{t=document.createElement("span")}),oe(()=>{a.fullscreen===!0&&b()}),ae(c),Object.assign(u,{toggleFullscreen:s,setFullscreen:b,exitFullscreen:c}),{inFullscreen:n,toggleFullscreen:s}}const vt=["top","right","bottom","left"],ft=["regular","flat","outline","push","unelevated"];var mt=L({name:"QCarousel",props:{...he,...it,...ut,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>ft.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>vt.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...ct,...lt],setup(e,{slots:a}){const{proxy:{$q:r}}=H(),u=ye(e,r);let o,t;const{updatePanelsList:i,getPanelContent:n,panelDirectives:s,goToPanel:b,previousPanel:c,nextPanel:p,getEnabledPanels:m,panelIndex:y}=rt(),{inFullscreen:_}=dt(),$=g(()=>_.value!==!0&&e.height!==void 0?{height:e.height}:{}),P=g(()=>e.vertical===!0?"vertical":"horizontal"),M=g(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(_.value===!0?" fullscreen":"")+(u.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${P.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${x.value}`:"")),B=g(()=>{const h=[e.prevIcon||r.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||r.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&r.lang.rtl===!0?h.reverse():h}),q=g(()=>e.navigationIcon||r.iconSet.carousel.navigationIcon),v=g(()=>e.navigationActiveIcon||q.value),x=g(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),w=g(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));I(()=>e.modelValue,()=>{e.autoplay&&(clearInterval(o),S())}),I(()=>e.autoplay,h=>{h?S():clearInterval(o)});function S(){const h=Me(e.autoplay)===!0?e.autoplay:5e3;o=setTimeout(h>=0?p:c,Math.abs(h))}oe(()=>{e.autoplay&&S()}),ae(()=>{clearInterval(o)});function N(h,T){return d("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${h} q-carousel__navigation--${x.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[d("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},m().map(T))])}function O(){const h=[];if(e.navigation===!0){const T=a["navigation-icon"]!==void 0?a["navigation-icon"]:l=>d(J,{key:"nav"+l.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${l.active===!0?"":"in"}active`,...l.btnProps,onClick:l.onClick}),Q=t-1;h.push(N("buttons",(l,f)=>{const C=l.props.name,A=y.value===f;return T({index:f,maxIndex:Q,name:C,active:A,btnProps:{icon:A===!0?v.value:q.value,size:"sm",...w.value},onClick:()=>{b(C)}})}))}else if(e.thumbnails===!0){const T=e.controlColor!==void 0?` text-${e.controlColor}`:"";h.push(N("thumbnails",Q=>{const l=Q.props;return d("img",{key:"tmb#"+l.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${l.name===e.modelValue?"":"in"}active`+T,src:l.imgSrc||l["img-src"],onClick:()=>{b(l.name)}})}))}return e.arrows===!0&&y.value>=0&&((e.infinite===!0||y.value>0)&&h.push(d("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${P.value} absolute flex flex-center`},[d(J,{icon:B.value[0],...w.value,onClick:c})])),(e.infinite===!0||y.value<t-1)&&h.push(d("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${P.value} absolute flex flex-center`},[d(J,{icon:B.value[1],...w.value,onClick:p})]))),Ve(a.control,h)}return()=>(t=i(a),d("div",{class:M.value,style:$.value},[Ee("div",{class:"q-carousel__slides-container"},n(),"sl-cont",e.swipeable,()=>s.value)].concat(O())))}}),de=L({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:a}){const r=g(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>d(e.tag,{class:r.value},F(a.default))}}),gt=L({name:"QCard",props:{...he,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:a}){const r=H(),u=ye(e,r.proxy.$q),o=g(()=>"q-card"+(u.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>d(e.tag,{class:o.value},F(a.default))}});const pt={class:"text-h6"},ht={class:"text-subtitle2"},yt=fe({__name:"PetCard",props:{pet:{type:Object,default:()=>({})},id:{type:String,default:""}},setup(e){const a=e,r=k(0),u=k([]);async function o(){const t=await Ue(je(He,`pets/${a.id}`)),i=t.items.map(s=>Oe(s)),n=await Promise.all(i);u.value=t.items.map(s=>({...s,url:n.shift()}))}return o(),(t,i)=>(D(),Y(gt,{class:"my-card q-mb-md"},{default:V(()=>[j(mt,{animated:"",modelValue:r.value,"onUpdate:modelValue":i[0]||(i[0]=n=>r.value=n),navigation:"",swipeable:""},{default:V(()=>[(D(!0),me(pe,null,ge(u.value,(n,s)=>(D(),Y(st,{key:n.name,name:s,"img-src":n.url},null,8,["name","img-src"]))),128))]),_:1},8,["modelValue"]),j(de,null,{default:V(()=>[ne("div",pt,Z(e.pet.title),1),ne("div",ht,"por "+Z(e.pet.user.displayName),1)]),_:1}),j(de,{class:"q-pt-none"},{default:V(()=>[De(Z(e.pet.desc),1)]),_:1})]),_:1}))}}),bt={class:"row justify-center q-my-md"},St=fe({__name:"IndexPage",setup(e){const r=k([]),u=k(null);async function o(t,i){const n=Re(Ke(Ge,"pets"),Ye("createdAt","desc"),We(10)),s=await Xe(n);console.log(s),s.docs.length&&(u.value=s.docs[s.docs.length-1],r.value=[...r.value,...s.docs],i())}return(t,i)=>(D(),Y(ze,{class:"row justify-evenly q-layout-padding"},{default:V(()=>[j(et,{onLoad:o,offset:100},{loading:V(()=>[ne("div",bt,[j(Ze,{color:"primary",size:"40px"})])]),default:V(()=>[(D(!0),me(pe,null,ge(r.value,n=>(D(),Y(yt,Le({key:n.id},{pet:n.data(),id:n.id}),null,16))),128))]),_:1})]),_:1}))}});export{St as default};
