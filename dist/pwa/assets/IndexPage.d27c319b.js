import{h as s,f as T,ab as H,ac as U,r as m,c as j,w as g,ad as A,ae as F,l as W,o as z,q as O,j as R,p as $,n as G,af as L,g as J,ag as K,R as X,S as x,U as P,V as _,d as B,a5 as Y,a2 as Z,a3 as ee,F as te,a6 as ae}from"./index.0c40a758.js";import{d as h,a as w,s as N,b as ie}from"./scroll.07a27cde.js";import{Q as le}from"./QPage.84017e2b.js";import{U as se,W as ne,Q as re,V as oe,d as ce,w as ue}from"./firebase.7a5a15bc.js";import{_ as fe}from"./PetCard.5cd53d89.js";import"./selection.873e61a0.js";import"./user.bc24edf9.js";const de=[s("circle",{cx:"15",cy:"15",r:"15"},[s("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),s("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})]),s("circle",{cx:"60",cy:"15",r:"9","fill-opacity":".3"},[s("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),s("animate",{attributeName:"fill-opacity",from:".5",to:".5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})]),s("circle",{cx:"105",cy:"15",r:"15"},[s("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),s("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})])];var ve=T({name:"QSpinnerDots",props:H,setup(t){const{cSize:f,classes:o}=U(t);return()=>s("svg",{class:o.value,fill:"currentColor",width:f.value,height:f.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg"},de)}});const{passive:u}=$;var me=T({name:"QInfiniteScroll",props:{offset:{type:Number,default:500},debounce:{type:[String,Number],default:100},scrollTarget:{default:void 0},initialIndex:Number,disable:Boolean,reverse:Boolean},emits:["load"],setup(t,{slots:f,emit:o}){const n=m(!1),l=m(!0),d=m(null);let c=t.initialIndex||0,e,a;const E=j(()=>"q-infinite-scroll__loading"+(n.value===!0?"":" invisible"));function v(){if(t.disable===!0||n.value===!0||l.value===!1)return;const i=h(e),r=w(e),S=L(e);t.reverse===!1?Math.round(r+S+t.offset)>=Math.round(i)&&b():Math.round(r)<=t.offset&&b()}function b(){if(t.disable===!0||n.value===!0||l.value===!1)return;c++,n.value=!0;const i=h(e);o("load",c,r=>{l.value===!0&&(n.value=!1,G(()=>{if(t.reverse===!0){const S=h(e),q=w(e),D=S-i;N(e,q+D)}r===!0?p():d.value&&d.value.closest("body")&&a()}))})}function Q(){c=0}function I(){l.value===!1&&(l.value=!0,e.addEventListener("scroll",a,u)),v()}function p(){l.value===!0&&(l.value=!1,n.value=!1,e.removeEventListener("scroll",a,u),a!==void 0&&a.cancel!==void 0&&a.cancel())}function M(){if(e&&l.value===!0&&e.removeEventListener("scroll",a,u),e=ie(d.value,t.scrollTarget),l.value===!0){if(e.addEventListener("scroll",a,u),t.reverse===!0){const i=h(e),r=L(e);N(e,i-r)}v()}}function V(i){c=i}const k=J();Object.assign(k.proxy,{poll:()=>{a!==void 0&&a()},trigger:b,stop:p,reset:Q,resume:I,setIndex:V});function C(i){i=parseInt(i,10);const r=a;a=i<=0?v:K(v,isNaN(i)===!0?100:i),e&&l.value===!0&&(r!==void 0&&e.removeEventListener("scroll",r,u),e.addEventListener("scroll",a,u))}g(()=>t.disable,i=>{i===!0?p():I()}),g(()=>t.reverse,i=>{n.value===!1&&l.value===!0&&v()}),g(()=>t.scrollTarget,M),g(()=>t.debounce,C);let y=!1;return A(()=>{y!==!1&&e&&N(e,y)}),F(()=>{y=e?w(e):!1}),W(()=>{l.value===!0&&e.removeEventListener("scroll",a,u)}),z(()=>{C(t.debounce),M()}),()=>{const i=O(f.default,[]);return t.disable!==!0&&l.value===!0&&i[t.reverse===!1?"push":"unshift"](s("div",{class:E.value},R(f.loading))),s("div",{class:"q-infinite-scroll",ref:d},i)}}});const ge={class:"row justify-center q-my-md"},we=X({__name:"IndexPage",setup(t){const o=m([]),n=m(null);async function l(d,c){const e=se(oe(ce,"pets"),re("createdAt","desc"),ne(10)),a=await ue(e);a.docs.length&&(n.value=a.docs[a.docs.length-1],o.value=[...o.value,...a.docs],c())}return(d,c)=>(x(),P(le,{class:"row justify-evenly q-layout-padding"},{default:_(()=>[B(me,{onLoad:l,offset:100},{loading:_(()=>[Y("div",ge,[B(ve,{color:"primary",size:"40px"})])]),default:_(()=>[(x(!0),Z(te,null,ee(o.value,e=>(x(),P(fe,ae({key:e.id},{pet:e.data(),id:e.id}),null,16))),128))]),_:1})]),_:1}))}});export{we as default};
