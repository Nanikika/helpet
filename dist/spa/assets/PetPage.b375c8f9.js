import{_ as C,Q as g,a as b}from"./PetCard.ac6ef294.js";import{R as x,ax as B,r as d,ay as h,S as i,U as v,V as n,d as r,az as k,aA as A,a5 as l,a2 as P,a3 as U,F as D,a1 as N,aB as R,Y as S,Z as y}from"./index.298ea574.js";import{Q as E}from"./QInput.888f2385.js";import{Q as K}from"./QPage.a0c176ad.js";import{U as T,Q as q,V as Q,E as z,c as F,D as I,d as c,T as j}from"./firebase.7a5a15bc.js";import{b as L}from"./user.ff184bfd.js";import"./selection.3c17003f.js";import"./format.8f2d0f18.js";const Y=l("div",null,[l("br")],-1),ee=x({__name:"PetPage",async setup(Z){let s,p;const V=B(),u=d({}),f=d([]),a=d(""),m=V.currentRoute.value.params.id;u.value=([s,p]=h(()=>F(I(c,"pets",m))),s=await s,p(),s);async function _(){const{user:e}=L();a.value&&(console.log(e),await j(Q(c,"comments","pets",m),{user:{uid:e.uid,name:e.displayName,email:e.email},comment:a.value,createdAt:Date.now()}),a.value="")}const w=T(Q(c,"comments","pets",m),q("createdAt","asc"));return z(w,e=>{f.value=e.docs.map(o=>o.data())}),(e,o)=>(i(),v(K,{class:"justify-evenly q-layout-padding"},{default:n(()=>[r(C,k(A({pet:u.value.data(),id:u.value.id})),null,16),l("div",null,[(i(!0),P(D,null,U(f.value,t=>(i(),v(g,{key:t.createdAt},{default:n(()=>[r(b,null,{default:n(()=>[S(y(t.user.name)+": "+y(t.comment),1)]),_:2},1024)]),_:2},1024))),128))]),Y,l("div",null,[r(E,{outlined:"","bottom-slots":"",modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=t=>a.value=t),label:"Comentario",dense:"",onKeydown:R(_,["enter"])},{after:n(()=>[r(N,{round:"",dense:"",flat:"",icon:"send",onClick:_})]),_:1},8,["modelValue","onKeydown"])])]),_:1}))}});export{ee as default};
